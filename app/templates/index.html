<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    {% if title %}
    <title>{{ title }} - Leleko.Ru</title>
    {% else %}
    <title>Без имени - Leleko.Ru</title>
    {% endif %}
</head>
<body>
    <nav>Главное меню:
        <ul>
            <li class="menu"><a href="{{ url_for('index') }}">Главная</a> </li>
            <li class="menu"><a href="{{ url_for('example') }}">Примеры работы</a> </li>
            <li class="menu"><a href="{{ url_for('example2') }}">Примеры работы с авторизацией</a> </li>
            <li class="menu"><a href="{{ url_for('about') }}">Обо мне</a> </li>
            {% if current_user.is_anonymous %}
                <li class="menu"><a href="{{ url_for('login') }}">Вход</a> </li>
            {% else %}
                <li class="menu"><a href="{{ url_for('user', username=current_user.username) }}">Профиль</a></li>
                <li class="menu"><a href="{{ url_for('logout') }}">Выход</a> </li>
            {% endif %}
            <li class="menu"><a href="{{ url_for('contactme') }}">Контакты</a> </li>
        </ul>
    </nav>
    <div>
        Текущий пользователь: {{ current_user.username }}
    </div>
    <hr>
    {% with messages = get_flashed_messages() %}
        {% if messages %}
        <ul>
            {% for message in messages %}
            <li>{{ message }}</li>
            {% endfor %}
        </ul>
        {% endif %}
    {% endwith %}
    {% block content %}{% endblock %}

    {% block counters %}
        <!-- Yandex.Metrika counter -->
        <script type="text/javascript" >
           (function(m,e,t,r,i,k,a){m[i]=m[i]||function(){(m[i].a=m[i].a||[]).push(arguments)};
           m[i].l=1*new Date();k=e.createElement(t),a=e.getElementsByTagName(t)[0],k.async=1,k.src=r,a.parentNode.insertBefore(k,a)})
           (window, document, "script", "https://mc.yandex.ru/metrika/tag.js", "ym");

           ym(45463110, "init", {
                clickmap:true,
                trackLinks:true,
                accurateTrackBounce:true,
                webvisor:true
           });
        </script>
        <noscript><div><img src="https://mc.yandex.ru/watch/45463110" style="position:absolute; left:-9999px;" alt="" /></div></noscript>
        <!-- /Yandex.Metrika counter -->
    {% endblock %}
</body>
</html>